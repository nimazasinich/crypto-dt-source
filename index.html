<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Intelligence Hub - AI-Powered Data Center</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="/static/css/main.css">
    <script src="/static/js/trading-pairs-loader.js" defer></script>
    <script src="/static/js/app.js" defer></script>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöÄ</text></svg>">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <div class="logo-text">
                        <h1>Crypto Intelligence Hub</h1>
                        <p><i class="fas fa-brain"></i> AI-Powered Crypto Data Collection Center</p>
                    </div>
                </div>
                <div class="header-actions">
                    <div class="header-stats">
                        <div class="mini-stat">
                            <i class="fas fa-database"></i>
                            <span id="header-resources">-</span>
                            <small>Resources</small>
                        </div>
                        <div class="mini-stat">
                            <i class="fas fa-robot"></i>
                            <span id="header-models">-</span>
                            <small>Models</small>
                        </div>
                    </div>
                    <div class="status-badge" id="api-status">
                        <span class="status-dot"></span>
                        <span>Checking...</span>
                    </div>
                    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Theme">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tabs-nav">
            <button class="tab-btn active" data-tab="dashboard">
                <i class="fas fa-chart-line"></i>
                <span>Dashboard</span>
            </button>
            <button class="tab-btn" data-tab="market">
                <i class="fas fa-coins"></i>
                <span>Market</span>
            </button>
            <button class="tab-btn" data-tab="models">
                <i class="fas fa-robot"></i>
                <span>AI Models</span>
            </button>
            <button class="tab-btn" data-tab="sentiment">
                <i class="fas fa-brain"></i>
                <span>Sentiment</span>
            </button>
            <button class="tab-btn" data-tab="ai-analyst">
                <i class="fas fa-magic"></i>
                <span>AI Analyst</span>
            </button>
            <button class="tab-btn" data-tab="trading-assistant">
                <i class="fas fa-chart-bar"></i>
                <span>Trading Signals</span>
            </button>
            <button class="tab-btn" data-tab="news">
                <i class="fas fa-newspaper"></i>
                <span>News</span>
            </button>
            <button class="tab-btn" data-tab="providers">
                <i class="fas fa-server"></i>
                <span>Providers</span>
            </button>
            <button class="tab-btn" data-tab="diagnostics">
                <i class="fas fa-stethoscope"></i>
                <span>Diagnostics</span>
            </button>
            <button class="tab-btn" data-tab="api-explorer">
                <i class="fas fa-code"></i>
                <span>API</span>
            </button>
            <a href="/crypto-api-hub" class="tab-btn" style="text-decoration: none;">
                <i class="fas fa-rocket"></i>
                <span>API Hub</span>
            </a>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Tab -->
            <section id="tab-dashboard" class="tab-content active">
                <div class="section-header">
                    <h2>System Overview</h2>
                    <button class="btn-refresh" onclick="loadDashboard()">üîÑ Refresh</button>
                </div>
                
                <div class="stats-grid" id="dashboard-stats">
                    <div class="stat-card gradient-purple">
                        <div class="stat-icon"><i class="fas fa-database"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-total-resources">-</div>
                            <div class="stat-label">Total Resources</div>
                            <div class="stat-trend"><i class="fas fa-arrow-up"></i> Active</div>
                        </div>
                    </div>
                    <div class="stat-card gradient-green">
                        <div class="stat-icon"><i class="fas fa-gift"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-free-resources">-</div>
                            <div class="stat-label">Free Resources</div>
                            <div class="stat-trend"><i class="fas fa-check-circle"></i> Available</div>
                        </div>
                    </div>
                    <div class="stat-card gradient-blue">
                        <div class="stat-icon"><i class="fas fa-robot"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-models">-</div>
                            <div class="stat-label">AI Models</div>
                            <div class="stat-trend"><i class="fas fa-brain"></i> Ready</div>
                        </div>
                    </div>
                    <div class="stat-card gradient-orange">
                        <div class="stat-icon"><i class="fas fa-server"></i></div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-providers">-</div>
                            <div class="stat-label">Providers</div>
                            <div class="stat-trend"><i class="fas fa-signal"></i> Online</div>
                        </div>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card">
                        <h3>System Status</h3>
                        <div id="system-status"></div>
                    </div>
                    <div class="card">
                        <h3>Category Statistics</h3>
                        <canvas id="categories-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Market Tab -->
            <section id="tab-market" class="tab-content">
                <div class="section-header">
                    <h2>Market Data</h2>
                    <button class="btn-refresh" onclick="loadMarketData()">üîÑ Refresh</button>
                </div>
                
                <div class="card">
                    <h3>Top Cryptocurrencies</h3>
                    <div id="market-data"></div>
                </div>
                
                <div class="card">
                    <h3>Trending Coins</h3>
                    <div id="trending-coins"></div>
                </div>
                
                <div class="card">
                    <h3>Fear & Greed Index</h3>
                    <div id="fear-greed"></div>
                </div>
            </section>

            <!-- Models Tab -->
            <section id="tab-models" class="tab-content">
                <div class="section-header">
                    <h2>Hugging Face Models</h2>
                    <button class="btn-refresh" onclick="loadModels()">üîÑ Refresh</button>
                    <button class="btn-primary" onclick="initializeModels()">üöÄ Load Models</button>
                </div>
                
                <div class="card">
                    <h3>Models Status</h3>
                    <div id="models-status"></div>
                </div>
                
                <div class="card">
                    <h3>Models List</h3>
                    <div id="models-list"></div>
                </div>
                
                <div class="card">
                    <h3>Usage Statistics</h3>
                    <div id="models-stats"></div>
                </div>
            </section>

            <!-- Sentiment Analysis Tab -->
            <section id="tab-sentiment" class="tab-content">
                <div class="section-header">
                    <h2>Sentiment Analysis</h2>
                </div>
                
                <!-- Global Market Sentiment -->
                <div class="card">
                    <h3>Global Market Sentiment</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">Analyze overall crypto market sentiment using AI models</p>
                    <button class="btn-primary" onclick="analyzeGlobalSentiment()">üìä Analyze Market Sentiment</button>
                    <div id="global-sentiment-result" style="margin-top: 20px;"></div>
                </div>
                
                <!-- Per-Asset Sentiment -->
                <div class="card">
                    <h3>Per-Asset Sentiment Analysis</h3>
                    <div class="form-group">
                        <label>Trading Pair:</label>
                        <div id="asset-symbol-container">
                            <input type="text" id="asset-symbol" placeholder="Loading pairs..." readonly>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Related Text or News (Optional):</label>
                        <textarea id="asset-sentiment-text" rows="3" placeholder="Example: Bitcoin breaks resistance at $50,000"></textarea>
                    </div>
                    <button class="btn-primary" onclick="analyzeAssetSentiment()">üîç Analyze Asset Sentiment</button>
                    <div id="asset-sentiment-result" style="margin-top: 20px;"></div>
                </div>
                
                <!-- Text Analysis -->
                <div class="card">
                    <h3>Text Analysis</h3>
                    <div class="form-group">
                        <label>Text to Analyze:</label>
                        <textarea id="sentiment-text" rows="5" placeholder="Example: Bitcoin price is rising rapidly!"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Analysis Type:</label>
                        <select id="sentiment-mode">
                            <option value="auto">Auto (Crypto)</option>
                            <option value="crypto">Crypto</option>
                            <option value="financial">Financial</option>
                            <option value="social">Social</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Select Model (Optional):</label>
                        <select id="sentiment-model"></select>
                    </div>
                    <button class="btn-primary" onclick="analyzeSentiment()">üîç Analyze</button>
                    <div id="sentiment-result"></div>
                </div>
                
                <!-- News/Financial Sentiment -->
                <div class="card">
                    <h3>News & Financial Sentiment Analysis</h3>
                    <div class="form-group">
                        <label>News Title:</label>
                        <input type="text" id="news-title" placeholder="Example: Bitcoin ETF Approval Expected">
                    </div>
                    <div class="form-group">
                        <label>Content or Description:</label>
                        <textarea id="news-content" rows="4" placeholder="Full news text or description..."></textarea>
                    </div>
                    <button class="btn-primary" onclick="analyzeNewsSentiment()">üì∞ Analyze News</button>
                    <div id="news-sentiment-result" style="margin-top: 20px;"></div>
                </div>
                
                <!-- News Summarization -->
                <div class="card">
                    <h3>üìù News Summarization</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">
                        Summarize crypto/financial news using AI-powered Hugging Face model
                    </p>
                    <div class="form-group">
                        <label>News Title:</label>
                        <input type="text" id="summary-news-title" placeholder="Example: Bitcoin Reaches New All-Time High">
                    </div>
                    <div class="form-group">
                        <label>News Content:</label>
                        <textarea id="summary-news-content" rows="6" placeholder="Enter the full article text here. The AI will generate a concise summary highlighting the key points..."></textarea>
                    </div>
                    <button class="btn-primary" onclick="summarizeNews()">‚ú® Summarize News</button>
                    <div id="news-summary-result" style="margin-top: 20px;"></div>
                </div>
                
                <div class="card">
                    <h3>Analysis History</h3>
                    <div id="sentiment-history"></div>
                </div>
            </section>

            <!-- AI Analyst Tab -->
            <section id="tab-ai-analyst" class="tab-content">
                <div class="section-header">
                    <h2>ü™Ñ AI Crypto Analyst</h2>
                    <p style="color: var(--text-secondary); margin-top: 10px;">Powered by OpenC/crypto-gpt-o3-mini</p>
                </div>
                
                <div class="card">
                    <h3>Text Generation & Analysis</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">
                        Use AI to generate crypto market analysis, insights, or creative content related to crypto and DeFi.
                    </p>
                    
                    <div class="form-group">
                        <label>Prompt / Question:</label>
                        <textarea id="ai-analyst-prompt" rows="6" placeholder="Example: Analyze the current state of Bitcoin and explain potential price movements based on market sentiment..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Mode:</label>
                        <select id="ai-analyst-mode">
                            <option value="analysis">Analysis</option>
                            <option value="generation">Generation</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Max Length (tokens):</label>
                        <select id="ai-analyst-max-length">
                            <option value="100">100</option>
                            <option value="200" selected>200</option>
                            <option value="300">300</option>
                            <option value="500">500</option>
                        </select>
                    </div>
                    
                    <button class="btn-primary" onclick="runAIAnalyst()">‚ú® Generate Analysis</button>
                    
                    <div id="ai-analyst-result" style="margin-top: 20px;"></div>
                </div>
                
                <div class="card">
                    <h3>üí° Example Prompts</h3>
                    <div style="display: grid; gap: 10px;">
                        <div style="padding: 10px; background: rgba(31, 41, 55, 0.6); border-radius: 8px; cursor: pointer;" onclick="setAIAnalystPrompt('Analyze the current DeFi market trends and identify key opportunities.')">
                            <strong>DeFi Market Analysis</strong>
                            <p style="font-size: 12px; color: var(--text-secondary); margin-top: 5px;">Analyze the current DeFi market trends and identify key opportunities.</p>
                        </div>
                        <div style="padding: 10px; background: rgba(31, 41, 55, 0.6); border-radius: 8px; cursor: pointer;" onclick="setAIAnalystPrompt('Explain how Layer 2 solutions are impacting Ethereum scalability.')">
                            <strong>Layer 2 Solutions</strong>
                            <p style="font-size: 12px; color: var(--text-secondary); margin-top: 5px;">Explain how Layer 2 solutions are impacting Ethereum scalability.</p>
                        </div>
                        <div style="padding: 10px; background: rgba(31, 41, 55, 0.6); border-radius: 8px; cursor: pointer;" onclick="setAIAnalystPrompt('What are the key factors affecting Bitcoin price movements?')">
                            <strong>Bitcoin Price Factors</strong>
                            <p style="font-size: 12px; color: var(--text-secondary); margin-top: 5px;">What are the key factors affecting Bitcoin price movements?</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Trading Assistant Tab -->
            <section id="tab-trading-assistant" class="tab-content">
                <div class="section-header">
                    <h2>üìä Trading Signal Assistant</h2>
                    <p style="color: var(--text-secondary); margin-top: 10px;">Powered by agarkovv/CryptoTrader-LM</p>
                </div>
                
                <div class="card">
                    <h3>Get Trading Decision</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">
                        Get AI-powered trading signals (BUY/SELL/HOLD) based on market analysis.
                    </p>
                    
                    <div class="form-group">
                        <label>Trading Symbol:</label>
                        <div id="trading-symbol-container">
                            <input type="text" id="trading-symbol" placeholder="Loading pairs..." readonly>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Market Context (Optional):</label>
                        <textarea id="trading-context" rows="4" placeholder="Example: Recent breakout above resistance, high volume, positive news flow..."></textarea>
                    </div>
                    
                    <button class="btn-primary" onclick="runTradingAssistant()">üéØ Get Trading Signal</button>
                    
                    <div id="trading-assistant-result" style="margin-top: 20px;"></div>
                </div>
                
                <div class="card">
                    <h3>‚ö†Ô∏è Disclaimer</h3>
                    <div class="alert alert-warning">
                        <strong>Important:</strong> This trading assistant provides AI-generated signals for informational purposes only. 
                        It should NOT be used as the sole basis for trading decisions. Always conduct your own research, 
                        consider multiple factors, and consult with financial professionals before making investment decisions.
                        Past performance does not guarantee future results.
                    </div>
                </div>
            </section>

            <!-- News Tab -->
            <section id="tab-news" class="tab-content">
                <div class="section-header">
                    <h2>Crypto News</h2>
                    <button class="btn-refresh" onclick="loadNews()">üîÑ Refresh</button>
                </div>
                
                <div id="news-list"></div>
            </section>

            <!-- Providers Tab -->
            <section id="tab-providers" class="tab-content">
                <div class="section-header">
                    <h2>Resources & Providers</h2>
                    <button class="btn-refresh" onclick="loadProviders()">üîÑ Refresh</button>
                </div>
                
                <div class="card">
                    <h3>Providers List</h3>
                    <div id="providers-list"></div>
                </div>
                
                <div class="card">
                    <h3>Search Resources</h3>
                    <div class="form-group">
                        <input type="text" id="search-resources" placeholder="Search..." onkeypress="if(event.key === 'Enter') searchResources()">
                        <button class="btn-primary" onclick="searchResources()">üîç Search</button>
                    </div>
                    <div id="search-results"></div>
                </div>
            </section>

            <!-- Diagnostics Tab -->
            <section id="tab-diagnostics" class="tab-content">
                <div class="section-header">
                    <h2>Diagnostics & Reports</h2>
                    <button class="btn-primary" onclick="runDiagnostics()">‚ñ∂Ô∏è Run Diagnostics</button>
                </div>
                
                <div class="card">
                    <h3>System Health</h3>
                    <button class="btn-refresh" onclick="loadHealthDiagnostics()">üîÑ Refresh Health</button>
                    <div id="health-diagnostics-result" style="margin-top: 15px;"></div>
                </div>
                
                <div class="card">
                    <h3>System Status</h3>
                    <div id="diagnostics-status"></div>
                </div>
                
                <div class="card">
                    <h3>Error Reports</h3>
                    <div id="error-logs"></div>
                </div>
                
                <div class="card">
                    <h3>Recent Logs</h3>
                    <div id="recent-logs"></div>
                </div>
            </section>

            <!-- API Explorer Tab -->
            <section id="tab-api-explorer" class="tab-content">
                <div class="section-header">
                    <h2>API Explorer</h2>
                </div>
                
                <div class="card">
                    <h3>Test API Endpoints</h3>
                    <div class="form-group">
                        <label>Select Endpoint:</label>
                        <select id="api-endpoint">
                            <option value="/api/health">GET /api/health</option>
                            <option value="/api/status">GET /api/status</option>
                            <option value="/api/market">GET /api/market</option>
                            <option value="/api/sentiment">GET /api/sentiment</option>
                            <option value="/api/resources">GET /api/resources</option>
                            <option value="/api/providers">GET /api/providers</option>
                            <option value="/api/models/list">GET /api/models/list</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Method:</label>
                        <select id="api-method">
                            <option value="GET">GET</option>
                            <option value="POST">POST</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Body (JSON - for POST):</label>
                        <textarea id="api-body" rows="5"></textarea>
                    </div>
                    <button class="btn-primary" onclick="testAPI()">‚ñ∂Ô∏è Execute</button>
                    <div id="api-result"></div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <p>Crypto Intelligence Hub - Powered by FastAPI & Hugging Face</p>
            <p><a href="/docs" target="_blank">üìñ API Documentation</a> | <a href="/health" target="_blank">üíö System Health</a></p>
        </footer>
    </div>
</body>
</html>
